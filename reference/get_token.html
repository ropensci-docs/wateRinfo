<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Retrieve a fresh waterinfo token. A token is not required to get started,
see Details section for more information."><title>Get waterinfo Token — get_token • wateRinfo</title><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get waterinfo Token — get_token"><meta property="og:description" content="Retrieve a fresh waterinfo token. A token is not required to get started,
see Details section for more information."><meta property="og:image" content="https://docs.ropensci.org/wateRinfo/logo.png"><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css"><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript><!-- End Matomo Code --></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">wateRinfo</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.3.0.9065</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="nav-link" href="../articles/wateRinfo.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/define_date_periods.html">Define the date period to download</a>
    <a class="dropdown-item" href="../articles/download_timeseries_batch.html">Download time series from multiple stations/variables</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/wateRinfo/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Get waterinfo Token</h1>
      <small class="dont-index">Source: <a href="https://github.com/ropensci/wateRinfo/blob/HEAD/R/token.R" class="external-link"><code>R/token.R</code></a></small>
      <div class="d-none name"><code>get_token.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Retrieve a fresh waterinfo token. A token is not required to get started,
see Details section for more information.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_token</span><span class="op">(</span></span>
<span>  client <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  client_id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  client_secret <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  token_url <span class="op">=</span> <span class="st">"http://download.waterinfo.be/kiwis-auth/token"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">is.expired</span><span class="op">(</span><span class="va">token</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">expires.in</span><span class="op">(</span><span class="va">token</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>client</dt>
<dd><p>base64 encoded client containing the client id and client
secret, seperated by :</p></dd>


<dt>client_id</dt>
<dd><p>client id string</p></dd>


<dt>client_secret</dt>
<dd><p>client secret string</p></dd>


<dt>token_url</dt>
<dd><p>url to get the token from</p></dd>


<dt>token</dt>
<dd><p>a token object</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>An object of class token containing the token string with the
token_url, token type and moment of expiration as attributes.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Notice you do not need to get a token right away to download data.
For limited and irregular downloads, a token will not be required. The amount
of data downloaded from waterinfo.be is limited via a credit system.
When you require more extended data requests, request a download token.</p>
<p>Either client or client_id and client_secret need to be passed as
arguments. If provided, client is always used. Tokens remain valid for
24 hours, after which a fresh one must be acquired.
To limit load on the server, token objects should be reused as much as
possible until expiration in stead of creating fresh ones for each call.</p>
<p>The client_id and client_secret provided in the examples are for test
purposes, get your very own client via <a href="mailto:hydrometrie@waterinfo.be">hydrometrie@waterinfo.be</a>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Get token via client_id and client_secret</span></span></span>
<span class="r-in"><span><span class="va">client_id</span> <span class="op">&lt;-</span> <span class="st">'32dceece-826c-4b98-9c2d-b16978f0ca6a'</span></span></span>
<span class="r-in"><span><span class="va">client_secret</span> <span class="op">&lt;-</span> <span class="st">'4ada871a-9528-4b4d-bfd5-b570ce8f4d2d'</span></span></span>
<span class="r-in"><span><span class="va">my_token</span> <span class="op">&lt;-</span> <span class="fu">get_token</span><span class="op">(</span>client_id <span class="op">=</span> <span class="va">client_id</span>,client_secret <span class="op">=</span> <span class="va">client_secret</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">my_token</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Token:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> eyJhbGciOiJSUzUxMiJ9.eyJqdGkiOiJiNWYwMWI4ZS1mZDRiLTQxYTktOGEwZi0wZTVjNDk2MmZiYjciLCJpYXQiOjE3MDkxODYwNTcsImlzcyI6Imh0dHA6Ly92cC10c21jYWxjMDE6ODA4MC9LaVdlYlBvcnRhbC9hdXRoLyIsImF1ZCI6IjMyZGNlZWNlLTgyNmMtNGI5OC05YzJkLWIxNjk3OGYwY2E2YSIsImV4cCI6MTcwOTI3MjQ1N30.cJYVIABbmvtF70cj0YQvgeDobrWFKqRiIJXPObs9x_oxZ95lfUVIZRVA6Lr1sDDeFeCMBO33X3eS1lke5SJqGHtr5cKH1M6X6YoOiC8G0M1BlgpKwFZ3gSD8xyKRdlFL-qivb04zNU88gtl5MnrlHBmQ3QxZNvNgKhfNEdZtOl2CO1H70GwBwuSjdhRQ8mmiCGcYHep4cLfZ20cwxLpjMkLZsAXgaek6CoVUHP5lHNYtuvV7YWWO_dwBrtA3s4ZeBOOnz9jZFcFBarKYwEhrWVfyrOYHY3SaFLjEqDopSGdu2D2IrW-PjJm4_jiOmhYNDYmnrJqN2bqrvKu948ep8g</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Attributes:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  url: http://download.waterinfo.be/kiwis-auth/token</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  type: Bearer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  expires: 2024-03-01 05:54:18 UTC</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># get token via client</span></span></span>
<span class="r-in"><span><span class="va">client</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">'MzJkY2VlY2UtODI2Yy00Yjk4LTljMmQtYjE2OTc4ZjBjYTZhOjRhZGE4'</span>,</span></span>
<span class="r-in"><span>                <span class="st">'NzFhLTk1MjgtNGI0ZC1iZmQ1LWI1NzBjZThmNGQyZA=='</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">my_token</span> <span class="op">&lt;-</span> <span class="fu">get_token</span><span class="op">(</span>client <span class="op">=</span> <span class="va">client</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">my_token</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Token:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> eyJhbGciOiJSUzUxMiJ9.eyJqdGkiOiIwYzQwMmNkOS03NTFlLTQ0NDItYjBjYy1iMDE4YzNiOGU3MDMiLCJpYXQiOjE3MDkxODYwNTgsImlzcyI6Imh0dHA6Ly92cC10c21jYWxjMDE6ODA4MC9LaVdlYlBvcnRhbC9hdXRoLyIsImF1ZCI6IjMyZGNlZWNlLTgyNmMtNGI5OC05YzJkLWIxNjk3OGYwY2E2YSIsImV4cCI6MTcwOTI3MjQ1OH0.GAjgDL2LjHaWqXWQzOFiA02nFG1SiXpnGuklJJHgMCIUBPy5kSFrOrqfOb_XeKQVncgt3mDiFu2C0IS4XfpzWQ7Yr0uaaG0YLft5VrQePm8WCBIucT6ltLBzS97YVAI4HhlcqQcbwJsjRbS7tCCOI0aK8XLhQGYtUidN6w8PgKA1WS65SO0qkVfVJmUPyaYhJg2pvCmrnkupESI31eZPfcAHYeXamb6A_jOlQIXEshTEiWVQNr8cCv6eZjAPr6-wQzqdU7qVyO3_W7VLHjJATulBA3PEaCrwZv8U4o7VBES-4ox7qwPMAsEkogbRRM5nH09qSd_DApMOBGP5Z_Mgww</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Attributes:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  url: http://download.waterinfo.be/kiwis-auth/token</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  type: Bearer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  expires: 2024-03-01 05:54:18 UTC</span>
<span class="r-in"><span><span class="fu">is.expired</span><span class="op">(</span><span class="va">my_token</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-in"><span><span class="va">expires.in</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> function (token) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     UseMethod("expires.in", token)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;bytecode: 0x55b69f8a5d00&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;environment: namespace:wateRinfo&gt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use the token when requesting for data (i.e. get_* functions), e.g.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="get_stations.html">get_stations</a></span><span class="op">(</span>variable_name <span class="op">=</span> <span class="st">"verdamping_monteith"</span>, token <span class="op">=</span> <span class="va">my_token</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      ts_id station_latitude station_longitude station_id station_no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 94310042         51.02263          2.970584      12206   ME01_003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 94544042         51.20300          5.439589      12213   ME11_002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 94516042         50.73795          5.141976      12211   ME09_012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 94530042         51.16224          4.845708      12212   ME10_011</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 94474042         51.24379          4.266912      12208   ME04_001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 94460042         51.27226          3.728299      12207   ME03_017</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7 94488042         50.86149          3.411318      12209   ME05_019</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8 94502042         50.88663          4.094898      12210   ME07_006</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              station_name stationparameter_name parametertype_name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1               Zarren_ME                   pET                PET</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2             Overpelt_ME                   pET                PET</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 Niel-bij-St.-Truiden_ME                   pET                PET</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4            Herentals_ME                   pET                PET</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5              Melsele_ME                   pET                PET</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6            Boekhoute_ME                   pET                PET</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7              Waregem_ME                   pET                PET</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8           Liedekerke_ME                   pET                PET</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ts_unitsymbol dataprovider</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1            mm          VMM</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2            mm          VMM</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3            mm          VMM</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4            mm          VMM</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5            mm          VMM</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6            mm          VMM</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7            mm          VMM</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8            mm          VMM</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg"></div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul></div>
                    <div class="col-md-3 col-sm-4">
                        <ul><h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul></div>
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul></div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer></div>

  

  

  </body></html>

